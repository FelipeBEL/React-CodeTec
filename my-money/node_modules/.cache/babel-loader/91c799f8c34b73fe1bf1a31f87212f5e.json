{"ast":null,"code":"import React, { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nconst INITIAL_STATE = {\n  loading: true,\n  data: {}\n};\n\nconst reducer = (state, action) => {\n  if (action.type === 'REQUEST') {\n    return { ...state,\n      loading: true\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return { ...state,\n      loading: false,\n      data: action.data\n    };\n  }\n\n  return state;\n};\n\nconst init = baseURL => {\n  const useGet = resource => {\n    const [data, dispatch] = useReducer(reducer, INITIAL_STATE);\n    useEffect(() => {\n      dispatch({\n        type: 'REQUEST'\n      });\n      firebaseDatabase.ref(resource).on(\"value\", function (snapshot) {\n        dispatch({\n          type: 'SUCCESS',\n          data: snapshot.val().JSON.parse(resource)\n        });\n      }, function (errorObject) {\n        console.log(\"The read failed: \" + errorObject.code);\n      });\n    }, []);\n    return data;\n  };\n\n  return {\n    useGet\n  };\n};\n\nexport default init;","map":{"version":3,"sources":["/home/felipe/Área de Trabalho/UFU - CodeTec/Estudo/React-CodeTec/my-money/src/rest.js"],"names":["React","useEffect","useReducer","axios","INITIAL_STATE","loading","data","reducer","state","action","type","init","baseURL","useGet","resource","dispatch","firebaseDatabase","ref","on","snapshot","val","JSON","parse","errorObject","console","log","code"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAG;AAClBC,EAAAA,OAAO,EAAE,IADS;AAElBC,EAAAA,IAAI,EAAE;AAFY,CAAtB;;AAKA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC/B,MAAIA,MAAM,CAACC,IAAP,KAAgB,SAApB,EAA+B;AAC3B,WAAO,EACH,GAAGF,KADA;AAEHH,MAAAA,OAAO,EAAE;AAFN,KAAP;AAIH;;AAED,MAAII,MAAM,CAACC,IAAP,KAAgB,SAApB,EAA+B;AAC3B,WAAO,EACH,GAAGF,KADA;AAEHH,MAAAA,OAAO,EAAE,KAFN;AAGHC,MAAAA,IAAI,EAAEG,MAAM,CAACH;AAHV,KAAP;AAKH;;AAED,SAAOE,KAAP;AACH,CAjBD;;AAmBA,MAAMG,IAAI,GAAGC,OAAO,IAAI;AACpB,QAAMC,MAAM,GAAGC,QAAQ,IAAI;AACvB,UAAM,CAACR,IAAD,EAAOS,QAAP,IAAmBb,UAAU,CAACK,OAAD,EAAUH,aAAV,CAAnC;AAEAH,IAAAA,SAAS,CAAC,MAAM;AACZc,MAAAA,QAAQ,CAAC;AAAEL,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACAM,MAAAA,gBAAgB,CAACC,GAAjB,CAAqBH,QAArB,EAA+BI,EAA/B,CAAkC,OAAlC,EAA2C,UAAUC,QAAV,EAAoB;AAC3DJ,QAAAA,QAAQ,CAAC;AAAEL,UAAAA,IAAI,EAAE,SAAR;AAAmBJ,UAAAA,IAAI,EAAEa,QAAQ,CAACC,GAAT,GAAeC,IAAf,CAAoBC,KAApB,CAA0BR,QAA1B;AAAzB,SAAD,CAAR;AACH,OAFD,EAEG,UAAUS,WAAV,EAAuB;AACtBC,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsBF,WAAW,CAACG,IAA9C;AACH,OAJD;AAKH,KAPQ,EAON,EAPM,CAAT;AASA,WAAOpB,IAAP;AACH,GAbD;;AAeA,SAAO;AAAEO,IAAAA;AAAF,GAAP;AACH,CAjBD;;AAmBA,eAAeF,IAAf","sourcesContent":["import React, { useEffect, useReducer } from 'react'\nimport axios from 'axios'\n\nconst INITIAL_STATE = {\n    loading: true,\n    data: {}\n}\n\nconst reducer = (state, action) => {\n    if (action.type === 'REQUEST') {\n        return {\n            ...state,\n            loading: true\n        }\n    }\n\n    if (action.type === 'SUCCESS') {\n        return {\n            ...state,\n            loading: false,\n            data: action.data\n        }\n    }\n\n    return state\n}\n\nconst init = baseURL => {\n    const useGet = resource => {\n        const [data, dispatch] = useReducer(reducer, INITIAL_STATE)\n\n        useEffect(() => {\n            dispatch({ type: 'REQUEST' })\n            firebaseDatabase.ref(resource).on(\"value\", function (snapshot) {\n                dispatch({ type: 'SUCCESS', data: snapshot.val().JSON.parse(resource) })\n            }, function (errorObject) {\n                console.log(\"The read failed: \" + errorObject.code);\n            });\n        }, [])\n\n        return data\n    }\n\n    return { useGet }\n}\n\nexport default init"]},"metadata":{},"sourceType":"module"}